# APK 功能特性总结

## 项目概述
红米手环2智能睡眠监测系统 (GWaken) 现已全面支持 Android 平台，提供完整的移动应用体验。

## APK 构建功能

### 1. 完整的 Android 应用
- **应用名称**: GWaken 智能睡眠监测
- **平台**: Android 5.0+ (API 21+)
- **架构**: 基于 Kivy 框架的原生 Android 应用
- **核心**: 与桌面版共享相同的睡眠监测算法

### 2. 功能特性
- **实时监测**: 实时睡眠阶段监测（清醒、浅睡、深睡、REM睡眠）
- **智能唤醒**: 在浅睡眠阶段智能唤醒用户
- **数据可视化**: 心率和体动数据实时图表
- **蓝牙连接**: 支持连接红米手环2获取传感器数据
- **模拟模式**: 蓝牙不可用时使用高质量模拟数据
- **配置管理**: 支持自定义监测参数和闹钟设置

### 3. 用户界面
- **选项卡界面**: 状态、监测、配置、闹钟四个主要选项卡
- **实时更新**: 数据每秒更新一次
- **交互功能**: 支持开始/停止监测、配置调整、闹钟测试
- **响应式设计**: 适配不同尺寸的移动设备

### 4. 技术架构
- **前端**: Kivy (Python) - 跨平台移动应用框架
- **后端**: 原有的睡眠监测算法
- **构建工具**: Buildozer - Python to APK 构建工具
- **蓝牙适配**: Android 兼容的蓝牙传感器接口

### 5. 权限要求
- `BLUETOOTH`: 访问蓝牙功能
- `BLUETOOTH_ADMIN`: 管理蓝牙连接
- `ACCESS_FINE_LOCATION`: 查找蓝牙设备
- `WAKE_LOCK`: 保持后台监测
- `RECEIVE_BOOT_COMPLETED`: 系统启动后恢复监测

### 6. 构建流程
- **自动化构建**: 使用 Buildozer 自动构建 APK
- **依赖管理**: 自动处理 Python 包依赖
- **资源打包**: 自动包含所有必要资源文件
- **签名支持**: 支持调试和发布版本签名

### 7. 部署方式
- **APK 文件**: 生成标准 Android APK 安装包
- **安装简单**: 支持常规 APK 安装流程
- **兼容性**: 支持大部分 Android 5.0+ 设备

### 8. 使用场景
- **睡眠监测**: 在睡觉时监测睡眠质量
- **智能唤醒**: 在最佳时间唤醒用户
- **数据分析**: 查看详细的睡眠报告
- **便携使用**: 随时随地使用手机监测睡眠

### 9. 文件结构
```
GWaken-Android/
├── main.py                 # 完整功能的Kivy应用
├── android_bluetooth_sensor.py  # Android蓝牙适配
├── buildozer.spec          # Buildozer配置
├── requirements.txt        # 依赖声明
├── config.json             # 默认配置
├── build_apk.sh            # 自动化构建脚本
└── assets/
    └── icons/              # 应用图标资源
```

### 10. 优势
- **代码复用**: 与桌面版共享核心算法，确保监测准确性
- **跨平台**: 统一算法，不同平台一致体验
- **易于构建**: 一键构建完整 APK
- **功能完整**: 移动端完全功能版本
- **用户体验**: 针对移动设备优化的界面设计

## 构建命令
```bash
cd GWaken-Android
buildozer android debug
```

生成的 APK 位于 `bin/` 目录，支持在 Android 设备上直接安装使用。